
{{ thing.remarks }}

{% if schema_description %}
{% assign schema_remark = thing.remarks %}
{% comment %}
This is purely for the bug at
https://github.com/lutaml/expressir/issues/108

Once that is fixed the following IF statement should be removed and just use {{ thing.remarks }}
{% endcomment %}

{% if schema_remark.size == 0 %}
{% assign schema_remark = thing.remark_items | where: "id", thing.id | first %}
{% endif %}

{{ schema_remark.remarks }}

The following EXPRESS declaration begins the *{{ thing.id }}* and identifies the necessary external references.
{% endif %}

{% render "templates/common_files/body_remarks", remark_items: thing.remark_items %}

{% render "templates/resources/body_source_code", source: thing.source %}

{% if thing.interfaces %}
[NOTE]
====
The schemas referenced above are specified in the following part of ISO 10303:

{% for interface in thing.interfaces %}

{% assign schema_name   = interface.schema.id %}
{% assign ref_schemas   = all_schemas | where: "id", schema_name %}
{% assign reference     = ref_schemas[0].remark_items[0].remarks[0] | replace_regex: ":.+$", "" %}

*{{ schema_name }}*:: {{ reference }}

{% endfor %}
====
{% endif %}

{% if schema_description %}

NOTE: See <<expg.{{ thing.id }}>> for a graphical representation of this schema.

{% endif %}